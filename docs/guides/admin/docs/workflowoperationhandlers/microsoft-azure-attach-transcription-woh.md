# Microsoft Azure Attach Transcription

## Description

Microsoft Azure Attach Transcription adds the captions file generated by [microsoft-azure-start-transcription](../workflowoperationhandlers/microsoft-azure-start-transcription-woh.md) to the media package.

## Parameter Table

|configuration keys|description|default value|example|
|------------------|-------|-----------|-------------|
|transcription-job-id|This is filled out by the transcription service when starting the workflow.|EMPTY|**Should always be "${transcriptionJobId}"**|
|target-flavor|The flavor of the caption/transcription file generated. Mandatory.|EMPTY|captions/vtt+en-US|
|replace-with-language|Text to replace a placeholder in target-flavor with. Optional|EMPTY|en-US|
|target-tag|The tag to apply to the caption/transcription file generated. Optional.|EMPTY|archive|

'target_flavor' allows a placeholder of the form `____` (e.g. `captions/vtt+____`). If auto detection was used in the
start WOH, the placeholder will be replaced with the detected language. Alternatively, you can override that by 
setting `replace-with-language`. If neither is set, the placeholder will simply be removed.

## Example

```xml
    <!-- Attach caption/transcript -->
    <operation id="microsoft-azure-attach-transcription"
               fail-on-error="true"
               exception-handler-workflow="partial-error"
               description="Attach captions/transcription">
      <configurations>
        <!-- This is filled out by the transcription service when starting this workflow -->
        <configuration key="transcription-job-id">${transcriptionJobId}</configuration>
        <!-- Set the flavor to something the Paella player will parse -->
        <configuration key="target-flavor">captions/vtt+en-us</configuration>
        <configuration key="target-tag">archive</configuration>
      </configurations>
    </operation>
```